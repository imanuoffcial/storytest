<html><head><base href="." /><title>Discover Stories - Manu</title><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><style>
  :root {
    --primary: #F4F0ED;
    --secondary: #2F2F2F;
    --accent: #B4846C;
    --text: #1A1A1A;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    cursor: none;
  }

  body {
    background-color: var(--primary);
    color: var(--text);
    font-family: 'Inter', sans-serif;
    overflow-x: hidden;
  }

  .custom-cursor {
    width: 20px;
    height: 20px;
    background: var(--accent);
    border-radius: 50%;
    position: fixed;
    pointer-events: none;
    z-index: 9999;
    mix-blend-mode: difference;
    transition: transform 0.2s ease;
  }

  .hero {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    position: relative;
    overflow: hidden;
  }

  .hero-title {
    font-size: 8vw;
    font-weight: 700;
    opacity: 0.0;
    transform: translateY(50px);
    animation: fadeInUp 1s ease forwards;
  }

  .hero-subtitle {
    font-size: 1.5rem;
    margin-top: 2rem;
    opacity: 0;
    transform: translateY(30px);
    animation: fadeInUp 1s ease 0.3s forwards;
  }

  .cta-button {
    margin-top: 3rem;
    padding: 1.2rem 3rem;
    background: var(--secondary);
    color: var(--primary);
    border: none;
    border-radius: 30px;
    font-size: 1.2rem;
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease 0.6s forwards;
    transition: all 0.3s ease;
    text-decoration: none;
  }

  .cta-button:hover {
    background: var(--accent);
    transform: translateY(-5px);
  }

  .floating-elements {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .floating-element {
    position: absolute;
    opacity: 0.1;
    animation: float 20s infinite linear;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes float {
    0% {
      transform: translate(0, 0) rotate(0deg);
    }
    100% {
      transform: translate(var(--translateX), var(--translateY)) rotate(360deg);
    }
  }

  .navigation {
    position: fixed;
    top: 0;
    width: 100%;
    padding: 2rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 100;
  }

  .logo {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--text);
    text-decoration: none;
    mix-blend-mode: difference;
  }

  .nav-links {
    display: flex;
    gap: 2rem;
  }

  .nav-link {
    color: var(--text);
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .nav-link:hover {
    color: var(--accent);
  }

  .stories-section {
    padding: 10vh 10vw;
    min-height: 100vh;
  }

  .story-preview {
    backdrop-filter: blur(5px);
    padding: 2rem;
    border-radius: 10px;
    margin: 15vh 0;
    position: relative;
    cursor: pointer;
    opacity: 0;
    transform: translateY(50px);
    transition: all 0.8s ease;
  }

  .story-preview.visible {
    opacity: 1;
    transform: translateY(0);
  }

  .story-title {
    font-size: 4vw;
    font-weight: 700;
    margin-bottom: 1rem;
    color: var(--secondary);
    transition: color 0.3s ease;
  }

  .story-excerpt {
    font-size: 1.2rem;
    line-height: 1.8;
    max-width: 800px;
    color: var(--text);
    opacity: 0.8;
  }

  .story-preview:hover .story-title {
    color: var(--accent);
  }

  .story-preview::after {
    content: '';
    position: absolute;
    bottom: -2rem;
    left: 0;
    width: 0;
    height: 1px;
    background: var(--accent);
    transition: width 0.5s ease;
  }

  .story-preview:hover::after {
    width: 100%;
  }

  .background-effects {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: -1;
    overflow: hidden;
  }

  .wave {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0.05;
    animation: wave 20s infinite linear;
  }

  .gradient-orb {
    position: absolute;
    width: 600px;
    height: 600px;
    border-radius: 50%;
    background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
    opacity: 0.1;
    filter: blur(60px);
    animation: orbFloat 15s infinite ease-in-out;
  }

  .noise-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url('data:image/svg+xml,<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"><filter id="noise"><feTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23noise)"/></svg>');
    opacity: 0.03;
    pointer-events: none;
    animation: noiseShift 1s infinite;
  }

  @keyframes wave {
    0% {
      transform: rotate(0deg) scale(1);
    }
    50% {
      transform: rotate(180deg) scale(1.2);
    }
    100% {
      transform: rotate(360deg) scale(1);
    }
  }

  @keyframes orbFloat {
    0%, 100% {
      transform: translate(0, 0);
    }
    25% {
      transform: translate(20%, 15%);
    }
    50% {
      transform: translate(-5%, 25%);
    }
    75% {
      transform: translate(-15%, -15%);
    }
  }

  @keyframes noiseShift {
    0% { transform: translate(0, 0); }
    100% { transform: translate(1px, 1px); }
  }

  .parallax-wrapper {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .parallax-element {
    position: absolute;
    opacity: 0.1;
    transition: transform 0.5s ease;
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="custom-cursor"></div>
  
  <nav class="navigation">
    <a href="/" class="logo">Manu</a>
    <div class="nav-links">
      <a href="saves.html" class="nav-link">Saves</a>
      <a href="about.html" class="nav-link">About</a>
      <a href="contact.html" class="nav-link">Contact</a>
    </div>
  </nav>

  <section class="hero">
    <div class="floating-elements">
      <svg class="floating-element" style="--translateX: 100px; --translateY: -200px; top: 20%; left: 20%;" width="50" height="50" viewBox="0 0 50 50">
        <circle cx="25" cy="25" r="20" fill="var(--accent)"/>
      </svg>
      <svg class="floating-element" style="--translateX: -150px; --translateY: 300px; top: 60%; left: 70%;" width="60" height="60" viewBox="0 0 60 60">
        <rect x="10" y="10" width="40" height="40" fill="var(--secondary)"/>
      </svg>
      <svg class="floating-element" style="--translateX: 200px; --translateY: 150px; top: 30%; left: 80%;" width="40" height="40" viewBox="0 0 40 40">
        <polygon points="20,0 40,40 0,40" fill="var(--accent)"/>
      </svg>
    </div>
    <h1 class="hero-title">Discover Worlds</h1>
    <p class="hero-subtitle">Where imagination meets reality</p>
  </section>

  <div class="background-effects">
    <div class="noise-overlay"></div>
    
    <svg class="wave" viewBox="0 0 100 100" preserveAspectRatio="none">
      <path d="M0,50 C20,60 40,40 60,50 C80,60 100,40 100,50 V100 H0 V50 Z" fill="var(--accent)"/>
    </svg>
    
    <div class="gradient-orb" style="top: -20%; left: -10%;"></div>
    <div class="gradient-orb" style="bottom: -30%; right: -20%;"></div>
    
    <div class="parallax-wrapper">
      <svg class="parallax-element" width="400" height="400" viewBox="0 0 400 400" style="top: 30%; left: 20%;">
        <circle cx="200" cy="200" r="180" fill="none" stroke="var(--accent)" stroke-width="2" stroke-dasharray="10 5"/>
      </svg>
      <svg class="parallax-element" width="300" height="300" viewBox="0 0 300 300" style="top: 70%; left: 70%;">
        <polygon points="150,0 300,300 0,300" fill="none" stroke="var(--secondary)" stroke-width="2" stroke-dasharray="15 10"/>
      </svg>
    </div>
  </div>

  <section class="stories-section">
    <!-- Remove the template story, leaving just the empty section -->
  </section>

  <script>
    const cursor = document.querySelector('.custom-cursor');
    
    document.addEventListener('mousemove', (e) => {
      cursor.style.left = e.clientX - 10 + 'px';
      cursor.style.top = e.clientY - 10 + 'px';
    });

    document.addEventListener('mousedown', () => {
      cursor.style.transform = 'scale(0.8)';
    });

    document.addEventListener('mouseup', () => {
      cursor.style.transform = 'scale(1)';
    });

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
          behavior: 'smooth'
        });
      });
    });

    document.addEventListener('mousemove', (e) => {
      const elements = document.querySelectorAll('.floating-element');
      const mouseX = e.clientX / window.innerWidth;
      const mouseY = e.clientY / window.innerHeight;

      elements.forEach(element => {
        const speed = 30;
        const x = (mouseX - 0.5) * speed;
        const y = (mouseY - 0.5) * speed;
        element.style.transform = `translate(${x}px, ${y}px)`;
      });
    });

    document.addEventListener('mousemove', (e) => {
      const elements = document.querySelectorAll('.parallax-element');
      const mouseX = e.clientX / window.innerWidth;
      const mouseY = e.clientY / window.innerHeight;

      elements.forEach(element => {
        const speed = 50;
        const x = (mouseX - 0.5) * speed;
        const y = (mouseY - 0.5) * speed;
        element.style.transform = `translate(${x}px, ${y}px) rotate(${x * 0.1}deg)`;
      });
    });

    const storyPreviews = document.querySelectorAll('.story-preview');
    const observerOptions = {
      threshold: 0.2,
      rootMargin: '0px'
    };

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, observerOptions);

    storyPreviews.forEach(preview => {
      observer.observe(preview);
    });

    function createBackgroundEffect(e) {
      const effect = document.createElement('div');
      effect.className = 'effect-circle';
      effect.style.left = e.clientX + 'px';
      effect.style.top = e.clientY + 'px';
      effect.style.width = Math.random() * 300 + 100 + 'px';
      effect.style.height = effect.style.width;
      document.querySelector('.background-effects').appendChild(effect);
      
      requestAnimationFrame(() => {
        effect.style.transform = 'scale(1)';
      });

      setTimeout(() => {
        effect.remove();
      }, 1000);
    }

    document.addEventListener('mousemove', (e) => {
      if (Math.random() < 0.1) {
        createBackgroundEffect(e);
      }
    });

    document.querySelectorAll('.story-preview').forEach(preview => {
      preview.addEventListener('click', () => {
        console.log('Story being saved for reading:', story); // Debug log
        localStorage.setItem('readingStory', JSON.stringify({
            title: story.title,
            content: story.content || story.fullContent // Try both content fields
        }));
        console.log('Stored in localStorage:', localStorage.getItem('readingStory')); // Debug log
        window.location.href = 'read_temp.html';
      });
    });

    document.addEventListener('DOMContentLoaded', async () => {
        const storiesSection = document.querySelector('.stories-section');
        const BIN_ID = '673dd035ad19ca34f8cd296b';
        const API_KEY = '$2a$10$ugrBnpVuIpaqZc4wOhCfk.N9kDtPCMiOrhHZ9KYIPKkNJOy6KCgoy';
        
        try {
            // Fetch stories from JSONbin
            const response = await fetch(`https://api.jsonbin.io/v3/b/${BIN_ID}/latest`, {
                headers: {
                    'X-Master-Key': API_KEY
                }
            });
            const data = await response.json();
            const sharedStories = data.record.stories || [];
            
            if (sharedStories.length === 0) {
                const emptyMessage = document.createElement('div');
                emptyMessage.className = 'story-preview';
                emptyMessage.style.opacity = '1';
                emptyMessage.innerHTML = `
                    <h2 class="story-title">No Stories Yet</h2>
                    <p class="story-excerpt">Upload stories from your saves to see them here.</p>
                `;
                storiesSection.appendChild(emptyMessage);
                return;
            }
            
            sharedStories.forEach((story, index) => {
                const storyPreview = document.createElement('div');
                storyPreview.className = 'story-preview';
                storyPreview.style.opacity = '1';
                storyPreview.innerHTML = `
                    <h2 class="story-title">${story.title}</h2>
                    <p class="story-excerpt">${story.excerpt}</p>
                `;
                
                storyPreview.addEventListener('click', () => {
                    localStorage.setItem('readingStory', JSON.stringify({
                        title: story.title,
                        content: story.fullContent || story.content || story.excerpt // Try all possible content fields
                    }));
                    window.location.href = 'read_temp.html';
                });
                
                storiesSection.appendChild(storyPreview);
                
                setTimeout(() => {
                    storyPreview.classList.add('visible');
                }, index * 200);
            });
        } catch (error) {
            console.error('Error loading shared stories:', error);
        }
    });
  </script>
</body></html>