<html><head><base href="." /><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Story Writing - Manu</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Playfair+Display:wght@400;500;600&family=Merriweather:wght@300;400;700&family=Lora:wght@400;500;600&family=Source+Serif+Pro:wght@400;600&family=Crimson+Text:wght@400;600&family=EB+Garamond:wght@400;500;600&family=Libre+Baskerville:wght@400;700&family=Montserrat:wght@400;500;600&family=Open+Sans:wght@400;500;600&family=Roboto:wght@400;500;700&family=Raleway:wght@400;500;600&family=Poppins:wght@400;500;600&family=Noto+Sans:wght@400;500;600&family=Ubuntu:wght@400;500;700&family=Nunito:wght@400;500;600&family=Quicksand:wght@400;500;600&family=Rubik:wght@400;500;600&family=Work+Sans:wght@400;500;600&family=Mulish:wght@400;500;600&family=DM+Sans:wght@400;500;700&family=Josefin+Sans:wght@400;500;600&family=Source+Sans+Pro:wght@400;600&family=PT+Sans:wght@400;700&family=PT+Serif:wght@400;700&family=Bitter:wght@400;500;600&family=Arvo:wght@400;700&family=Cabin:wght@400;500;600&family=Fira+Sans:wght@400;500;600&family=Noto+Serif:wght@400;700&family=Karla:wght@400;500;600&family=Barlow:wght@400;500;600&family=IBM+Plex+Sans:wght@400;500;600&family=IBM+Plex+Serif:wght@400;500;600&family=Overpass:wght@400;500;600&family=Manrope:wght@400;500;600&family=Red+Hat+Display:wght@400;500;600&family=Space+Grotesk:wght@400;500;600&family=Spectral:wght@400;500;600&family=Cormorant+Garamond:wght@400;500;600&family=Alegreya:wght@400;500;600&family=Alegreya+Sans:wght@400;500;600&family=Vollkorn:wght@400;500;600&family=Archivo:wght@400;500;600&family=Outfit:wght@400;500;600&family=Plus+Jakarta+Sans:wght@400;500;600&family=Public+Sans:wght@400;500;600&family=Be+Vietnam+Pro:wght@400;500;600&family=Sora:wght@400;500;600&family=Lexend:wght@400;500;600&family=Urbanist:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
    :root {
        --primary: #1a1a1a;
        --secondary: #f4f1eb;
        --accent: #c4a484;
        --transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: 'Inter', sans-serif;
    }
    
    body {
        background: var(--primary);
        color: var(--secondary);
        overflow-x: hidden;
        position: relative;
    }
    
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(circle at center, rgba(196, 164, 132, 0.1) 0%, rgba(26, 26, 26, 0) 70%);
        pointer-events: none;
        z-index: -1;
    }
    
    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        padding: 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        z-index: 1000;
    }
    
    .menu-btn {
        cursor: none;  
        font-size: 1.2rem;
        color: var(--secondary);
        background: none;
        border: none;
        transition: var(--transition);
    }
    
    .menu-btn::after {
        content: 'Manu';
    }
    
    .nav-right {
        display: flex;
        gap: 2rem;
    }
    
    .nav-link {
        color: var(--secondary);
        text-decoration: none;
        font-size: 1.1rem;
        transition: var(--transition);
        opacity: 0.7;
    }
    
    .nav-link:hover {
        opacity: 1;
    }
    
    .editor-container {
        margin-top: 100px;
        padding: 2rem;
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .toolbar {
        display: flex;
        gap: 1rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
    }
    
    .story-title {
        width: 100%;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgba(255,255,255,0.1);
        border-radius: 8px;
        padding: 1rem 2rem;
        color: var(--secondary);
        font-size: 1.5rem;
        margin-bottom: 2rem;
        transition: var(--transition);
    }
    
    .story-title:focus {
        outline: none;
        background: rgba(255,255,255,0.03);
        transform: scale(1.01);
    }
    
    .story-title::placeholder {
        color: rgba(244, 241, 235, 0.3);
    }
    
    .tool-btn {
        background: var(--primary);
        color: var(--secondary); 
        border: 1px solid var(--accent);
        padding: 0.5rem 1rem;
        border-radius: 4px;
        cursor: pointer;
        transition: var(--transition);
    }
    
    .tool-btn:hover {
        background: rgba(255,255,255,0.1);
    }
    
    .tool-btn.active {
        background: var(--accent);
        color: var(--primary);
    }
    
    #editor {
        width: 100%;
        min-height: 500px;
        background: rgba(255,255,255,0.02);
        border: 1px solid rgb(255,255,255,0.1);
        border-radius: 8px;
        padding: 2rem;
        color: var(--secondary);
        font-size: 1.1rem;
        line-height: 1.6;
        transition: var(--transition);
        position: relative;
    }
    
    #editor:empty::before {
        content: 'Start writing your story...';
        position: absolute;
        color: rgba(244, 241, 235, 0.3);
        pointer-events: none;
    }
    
    #editor:focus:empty::before {
        opacity: 0;
    }
    
    .font-dropdown, .size-dropdown {
        background: var(--accent);
        color: var(--primary);
        border: none;
        padding: 0.5rem;
        border-radius: 4px;
        min-width: 180px;
        cursor: pointer;
    }
    
    .font-dropdown:hover, .size-dropdown:hover {
        background: var(--secondary);
    }
    
    #editor[data-font="Playfair Display"] { font-family: 'Playfair Display', serif; }
    #editor[data-font="Merriweather"] { font-family: 'Merriweather', serif; }
    #editor[data-font="Lora"] { font-family: 'Lora', serif; }
    #editor[data-font="Source Serif Pro"] { font-family: 'Source Serif Pro', serif; }
    #editor[data-font="Crimson Text"] { font-family: 'Crimson Text', serif; }
    #editor[data-font="EB Garamond"] { font-family: 'EB Garamond', serif; }
    #editor[data-font="Libre Baskerville"] { font-family: 'Libre Baskerville', serif; }
    #editor[data-font="Montserrat"] { font-family: 'Montserrat', sans-serif; }
    #editor[data-font="Open Sans"] { font-family: 'Open Sans', sans-serif; }
    #editor[data-font="Roboto"] { font-family: 'Roboto', sans-serif; }
    #editor[data-font="Raleway"] { font-family: 'Raleway', sans-serif; }
    #editor[data-font="Poppins"] { font-family: 'Poppins', sans-serif; }
    #editor[data-font="Noto Sans"] { font-family: 'Noto Sans', sans-serif; }
    #editor[data-font="Ubuntu"] { font-family: 'Ubuntu', sans-serif; }
    #editor[data-font="Nunito"] { font-family: 'Nunito', sans-serif; }
    #editor[data-font="Quicksand"] { font-family: 'Quicksand', sans-serif; }
    #editor[data-font="Rubik"] { font-family: 'Rubik', sans-serif; }
    #editor[data-font="Work Sans"] { font-family: 'Work Sans', sans-serif; }
    #editor[data-font="Mulish"] { font-family: 'Mulish', sans-serif; }
    #editor[data-font="DM Sans"] { font-family: 'DM Sans', sans-serif; }
    #editor[data-font="Josefin Sans"] { font-family: 'Josefin Sans', sans-serif; }
    #editor[data-font="Source Sans Pro"] { font-family: 'Source Sans Pro', sans-serif; }
    #editor[data-font="PT Sans"] { font-family: 'PT Sans', sans-serif; }
    #editor[data-font="PT Serif"] { font-family: 'PT Serif', serif; }
    #editor[data-font="Bitter"] { font-family: 'Bitter', serif; }
    #editor[data-font="Arvo"] { font-family: 'Arvo', serif; }
    #editor[data-font="Cabin"] { font-family: 'Cabin', sans-serif; }
    #editor[data-font="Fira Sans"] { font-family: 'Fira Sans', sans-serif; }
    #editor[data-font="Noto Serif"] { font-family: 'Noto Serif', serif; }
    #editor[data-font="Karla"] { font-family: 'Karla', sans-serif; }
    #editor[data-font="Barlow"] { font-family: 'Barlow', sans-serif; }
    #editor[data-font="IBM Plex Sans"] { font-family: 'IBM Plex Sans', sans-serif; }
    #editor[data-font="IBM Plex Serif"] { font-family: 'IBM Plex Serif', serif; }
    #editor[data-font="Overpass"] { font-family: 'Overpass', sans-serif; }
    #editor[data-font="Manrope"] { font-family: 'Manrope', sans-serif; }
    #editor[data-font="Red Hat Display"] { font-family: 'Red Hat Display', sans-serif; }
    #editor[data-font="Space Grotesk"] { font-family: 'Space Grotesk', sans-serif; }
    #editor[data-font="Spectral"] { font-family: 'Spectral', serif; }
    #editor[data-font="Cormorant Garamond"] { font-family: 'Cormorant Garamond', serif; }
    #editor[data-font="Alegreya"] { font-family: 'Alegreya', serif; }
    #editor[data-font="Alegreya Sans"] { font-family: 'Alegreya Sans', sans-serif; }
    #editor[data-font="Vollkorn"] { font-family: 'Vollkorn', serif; }
    #editor[data-font="Archivo"] { font-family: 'Archivo', sans-serif; }
    #editor[data-font="Outfit"] { font-family: 'Outfit', sans-serif; }
    #editor[data-font="Plus Jakarta Sans"] { font-family: 'Plus Jakarta Sans', sans-serif; }
    #editor[data-font="Public Sans"] { font-family: 'Public Sans', sans-serif; }
    #editor[data-font="Be Vietnam Pro"] { font-family: 'Be Vietnam Pro', sans-serif; }
    #editor[data-font="Sora"] { font-family: 'Sora', sans-serif; }
    #editor[data-font="Lexend"] { font-family: 'Lexend', sans-serif; }
    #editor[data-font="Urbanist"] { font-family: 'Urbanist', sans-serif; }
    
    .menu-overlay {
        position: fixed;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100vh;
        background: var(--primary);
        transition: var(--transition);
        z-index: 999;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .menu-overlay.active {
        left: 0;
    }
    
    .menu-content {
        text-align: center;
    }
    
    .menu-link {
        display: block;
        font-size: 2rem;
        color: var(--secondary);
        text-decoration: none;
        margin: 2rem 0;
        transition: var(--transition);
    }
    
    .menu-link:hover {
        opacity: 0.7;
    }
    
    .cursor {
        width: 20px;
        height: 20px;
        border: 2px solid var(--secondary);
        border-radius: 50%;
        position: fixed;
        pointer-events: none;
        z-index: 9999;
        transition: transform 0.2s, width 0.2s, height 0.2s;
        mix-blend-mode: difference;
        background: rgba(255, 255, 255, 0.1);
    }
    
    .noise {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        opacity: 0.02;
        pointer-events: none;
        z-index: -1;
    }
    </style>
    </head>
    <body>
        <div class="cursor"></div>
        
        <nav class="navbar">
            <a href="/" class="logo" style="color: var(--secondary); text-decoration: none; font-size: 1.5rem; font-weight: 700;">Manu</a>
            <div class="nav-right">
                <a href="stories.html" class="nav-link">Discover</a>
                <a href="about.html" class="nav-link">About</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
        </nav>
    
        <div class="menu-overlay">
            <div class="menu-content">
                <a href="https://example.com/home" class="menu-link">Home</a>
                <a href="https://example.com/stories" class="menu-link">Stories</a>
                <a href="https://example.com/profile" class="menu-link">Profile</a>
                <a href="https://example.com/settings" class="menu-link">Settings</a>
            </div>
        </div>
    
        <div class="editor-container">
            <div class="toolbar">
                <select class="font-dropdown">
                    <option value="Inter">Inter</option>
                    <option value="Playfair Display">Playfair Display</option>
                    <option value="Merriweather">Merriweather</option>
                    <option value="Lora">Lora</option>
                    <option value="Source Serif Pro">Source Serif Pro</option>
                    <option value="Crimson Text">Crimson Text</option>
                    <option value="EB Garamond">EB Garamond</option>
                    <option value="Libre Baskerville">Libre Baskerville</option>
                    <option value="Montserrat">Montserrat</option>
                    <option value="Open Sans">Open Sans</option>
                    <option value="Roboto">Roboto</option>
                    <option value="Raleway">Raleway</option>
                    <option value="Poppins">Poppins</option>
                    <option value="Noto Sans">Noto Sans</option>
                    <option value="Ubuntu">Ubuntu</option>
                    <option value="Nunito">Nunito</option>
                    <option value="Quicksand">Quicksand</option>
                    <option value="Rubik">Rubik</option>
                    <option value="Work Sans">Work Sans</option>
                    <option value="Mulish">Mulish</option>
                    <option value="DM Sans">DM Sans</option>
                    <option value="Josefin Sans">Josefin Sans</option>
                    <option value="Source Sans Pro">Source Sans Pro</option>
                    <option value="PT Sans">PT Sans</option>
                    <option value="PT Serif">PT Serif</option>
                    <option value="Bitter">Bitter</option>
                    <option value="Arvo">Arvo</option>
                    <option value="Cabin">Cabin</option>
                    <option value="Fira Sans">Fira Sans</option>
                    <option value="Noto Serif">Noto Serif</option>
                    <option value="Karla">Karla</option>
                    <option value="Barlow">Barlow</option>
                    <option value="IBM Plex Sans">IBM Plex Sans</option>
                    <option value="IBM Plex Serif">IBM Plex Serif</option>
                    <option value="Overpass">Overpass</option>
                    <option value="Manrope">Manrope</option>
                    <option value="Red Hat Display">Red Hat Display</option>
                    <option value="Space Grotesk">Space Grotesk</option>
                    <option value="Spectral">Spectral</option>
                    <option value="Cormorant Garamond">Cormorant Garamond</option>
                    <option value="Alegreya">Alegreya</option>
                    <option value="Alegreya Sans">Alegreya Sans</option>
                    <option value="Vollkorn">Vollkorn</option>
                    <option value="Archivo">Archivo</option>
                    <option value="Outfit">Outfit</option>
                    <option value="Plus Jakarta Sans">Plus Jakarta Sans</option>
                    <option value="Public Sans">Public Sans</option>
                    <option value="Be Vietnam Pro">Be Vietnam Pro</option>
                    <option value="Sora">Sora</option>
                    <option value="Lexend">Lexend</option>
                    <option value="Urbanist">Urbanist</option>
                </select>
                <select class="size-dropdown">
                    <option value="16">16px</option>
                    <option value="18">18px</option>
                    <option value="20">20px</option>
                    <option value="24">24px</option>
                    <option value="28">28px</option>
                </select>
                <button class="tool-btn">Bold</button>
                <button class="tool-btn">Italic</button>
                <button class="tool-btn">Underline</button>
                <button class="tool-btn">Save</button>
             <form action="/stories" method="POST">
            </div>
            <input type="text" class="story-title" placeholder="Enter your story title...">
            <div id="editor" contenteditable="true" spellcheck="true" data-font="Inter"></div>
        </div></form>
    
        <div class="noise"></div>
    
    <script>
    const cursor = document.querySelector('.cursor');
    let cursorVisible = true;
    
    document.addEventListener('mouseleave', () => {
        cursorVisible = false;
        cursor.style.opacity = '0';
    });
    
    document.addEventListener('mouseenter', () => {
        cursorVisible = true;
        cursor.style.opacity = '1';
    });
    
    document.addEventListener('mousemove', (e) => {
        if (cursorVisible) {
            cursor.style.left = e.clientX - 10 + 'px';
            cursor.style.top = e.clientY - 10 + 'px';
        }
    });
    
    document.addEventListener('mousedown', () => {
        cursor.style.transform = 'scale(0.8)';
        cursor.style.background = 'rgba(255, 255, 255, 0.2)';
    });
    
    document.addEventListener('mouseup', () => {
        cursor.style.transform = 'scale(1)';
        cursor.style.background = 'rgba(255, 255, 255, 0.1)';
    });
    
    const menuBtn = document.querySelector('.menu-btn');
    const menuOverlay = document.querySelector('.menu-overlay');
    
    menuBtn.addEventListener('click', () => {
        menuOverlay.classList.toggle('active');
    });
    
    const editor = document.getElementById('editor');
    const fontDropdown = document.querySelector('.font-dropdown');
    const sizeDropdown = document.querySelector('.size-dropdown');
    const toolButtons = document.querySelectorAll('.tool-btn');
    const titleInput = document.querySelector('.story-title');
    
    fontDropdown.addEventListener('change', (e) => {
        editor.style.fontFamily = e.target.value;
        editor.dataset.font = e.target.value; // Add data attribute for specific styling
    });
    
    sizeDropdown.addEventListener('change', (e) => {
        editor.style.fontSize = e.target.value + 'px';
    });
    
    toolButtons.forEach(button => {
        button.addEventListener('click', () => {
            const command = button.textContent.toLowerCase();
            if (command === 'save') {
                const title = document.querySelector('.story-title').value;
                const content = document.getElementById('editor').innerHTML;
                
                if (!title || !content) {
                    alert('Please enter both title and content for your story');
                    return;
                }
                
                console.log('Saving story:', { title, content });
                
                const stories = JSON.parse(localStorage.getItem('stories') || '[]');
                stories.push({
                    id: Date.now(),
                    title,
                    fullContent: content,
                    content: content,
                    excerpt: content.replace(/<[^>]*>/g, '').slice(0, 200) + '...'
                });
                localStorage.setItem('stories', JSON.stringify(stories));
                
                console.log('Stories in localStorage:', JSON.parse(localStorage.getItem('stories')));
                
                window.location.href = 'saves.html';
                return;
            }
            
            if (['bold', 'italic', 'underline'].includes(command)) {
                button.classList.toggle('active');
                document.execCommand(command, false, null);
            } else {
                document.execCommand(command, false, null);
            }
        });
    });
    
    document.addEventListener('selectionchange', () => {
        ['bold', 'italic', 'underline'].forEach(command => {
            const button = Array.from(toolButtons).find(btn => 
                btn.textContent.toLowerCase() === command
            );
            if (button) {
                const state = document.queryCommandState(command);
                if (state) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            }
        });
    });
    
    editor.addEventListener('input', () => {
        const text = editor.textContent;
        if (text.length > 0) {
            editor.spellcheck = true;
        }
    });
    
    editor.addEventListener('focus', () => {
        editor.style.transform = 'scale(1.01)';
        editor.style.background = 'rgba(255,255,255,0.03)';
    });
    
    editor.addEventListener('blur', () => {
        editor.style.transform = 'scale(1)';
        editor.style.background = 'rgba(255,255,255,0.02)';
    });
    
    document.addEventListener('DOMContentLoaded', () => {
        editor.innerHTML = '';
    });
    
    const interactiveElements = document.querySelectorAll('button, a, select, #editor, .story-title');
    interactiveElements.forEach(element => {
        element.addEventListener('mouseenter', () => {
            cursor.style.transform = 'scale(1.5)';
            cursor.style.background = 'rgba(255, 255, 255, 0.2)';
        });
        
        element.addEventListener('mouseleave', () => {
            cursor.style.transform = 'scale(1)';
            cursor.style.background = 'rgba(255, 255, 255, 0.1)';
        });
    });
    
    document.addEventListener('DOMContentLoaded', () => {
        // Check if we're editing a story
        const editingStory = localStorage.getItem('editingStory');
        if (editingStory) {
            const story = JSON.parse(editingStory);
            document.querySelector('.story-title').value = story.title;
            document.getElementById('editor').innerHTML = story.content;
            
            // Clear the editing story from localStorage
            localStorage.removeItem('editingStory');
        }
    });
    
    window.addEventListener('beforeunload', () => {
        // Clear editing story data when leaving the page
        localStorage.removeItem('editingStory');
    });
    </script>
    </body></html>
    <script></script>